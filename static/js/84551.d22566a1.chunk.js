"use strict";(globalThis.webpackChunkfrontend=globalThis.webpackChunkfrontend||[]).push([[84551],{14635:(e,t,n)=>{n.d(t,{Z:()=>i});var s=n(37305),o=n(41418),r=n.n(o),a=(n(72791),n(80184));const i=e=>{const t=(0,a.jsx)("div",{className:r()("ControlBar_editor",s.BUTTON_GROUP),children:e.editorButtons}),n=e.flowButtons&&(0,a.jsx)("div",{className:r()("ControlBar_flow",s.BUTTON_GROUP),children:e.flowButtons}),o=(0,a.jsx)("div",{className:r()("ControlBar_editingWorkspace",s.BUTTON_GROUP),children:e.editingWorkspaceButtons});return(0,a.jsxs)("div",{className:"ControlBar",children:[t,n,o]})}},1799:(e,t,n)=>{n.d(t,{t:()=>i});var s=n(50698),o=n(53424),r=(n(72791),n(17862)),a=n(80184);const i=e=>{const t=e.hasUnsavedChanges?{intent:s.S.WARNING,minimal:!1}:{};return(0,a.jsx)(r.Z,{label:"Save",icon:o.d.FLOPPY_DISK,onClick:e.onClickSave,options:t})}},84551:(e,t,n)=>{n.r(t),n.d(t,{EditStoryComponent:()=>S,ViewStoryComponent:()=>p,default:()=>j});n(70637);var s=n(37305),o=n(96673),r=n(41418),a=n.n(r),i=n(72791),l=n(38399),c=n(78687),d=n(57689),u=n(14635),h=n(1799),y=n(90362),x=n(86009),m=n(11575),C=n(57170),v=n(80184);const g=({isViewOnly:e=!1})=>{const t=(0,c.I0)(),[n,r]=(0,i.useState)(!1),{currentStory:g,currentStoryId:S}=(0,y.ix)((e=>e.stories)),{id:p}=(0,d.UO)();if((0,i.useEffect)((()=>{t((0,m.setCurrentStory)(null)),t((0,m.setCurrentStoryId)(p?parseInt(p):null))}),[t,p]),!g)return(0,v.jsx)(v.Fragment,{});const{title:j,content:w}=g,f={editorButtons:[e?(0,v.jsx)(v.Fragment,{children:j}):(0,v.jsx)(o.oi,{maxWidth:"max-w-xl",placeholder:"Enter story title",value:j,onChange:e=>{const n=e.target.value;t((0,m.setCurrentStory)({...g,title:n})),r(!0)}}),e?null:(0,v.jsx)(h.t,{onClickSave:()=>{t(S?(0,m.saveStory)(g,S):(0,m.createStory)(g))},hasUnsavedChanges:n},"save_story")]};return(0,v.jsxs)("div",{style:{display:"flex",flexDirection:"column"},className:a()(s.DARK),children:[(0,v.jsx)(u.Z,{...f}),(0,v.jsxs)("div",{style:{width:"100vw",height:"100%",display:"flex"},children:[!e&&(0,v.jsx)(l.ZP,{className:"repl-react-ace react-ace",width:"100%",height:"100%",theme:"source",value:w,onChange:e=>{r(!0),t((0,m.setCurrentStory)({...g,content:e}))},onScroll:e=>{const t=document.getElementById("userblogContainer");t&&(0,x.tl)(e,t)},fontSize:17,highlightActiveLine:!1,showPrintMargin:!1,wrapEnabled:!0,setOptions:{fontFamily:"'Inconsolata', 'Consolas', monospace"}}),(0,v.jsx)("div",{className:"newUserblog",id:"userblogContainer",children:(0,v.jsx)(C.ZP,{fileContent:w})})]})]})},S=()=>(0,v.jsx)(g,{isViewOnly:!1});S.displayName="EditStory";const p=()=>(0,v.jsx)(g,{isViewOnly:!0});p.displayName="ViewStory";const j=g}}]);
//# sourceMappingURL=84551.d22566a1.chunk.js.map
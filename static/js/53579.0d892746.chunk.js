"use strict";(globalThis.webpackChunkfrontend=globalThis.webpackChunkfrontend||[]).push([[53579],{49908:(e,t,n)=>{n.d(t,{Z:()=>i});var s=n(68358),o=n(72884),r=n.n(o),a=(n(47313),n(46417));const i=e=>{const t=(0,a.jsx)("div",{className:r()("ControlBar_editor",s.BUTTON_GROUP),children:e.editorButtons}),n=e.flowButtons&&(0,a.jsx)("div",{className:r()("ControlBar_flow",s.BUTTON_GROUP),children:e.flowButtons}),o=(0,a.jsx)("div",{className:r()("ControlBar_editingWorkspace",s.BUTTON_GROUP),children:e.editingWorkspaceButtons});return(0,a.jsxs)("div",{className:"ControlBar",children:[t,n,o]})}},6127:(e,t,n)=>{n.d(t,{t:()=>i});var s=n(56195),o=n(70352),r=(n(47313),n(33735)),a=n(46417);const i=e=>{const t=e.hasUnsavedChanges?{intent:s.S.WARNING,minimal:!1}:{};return(0,a.jsx)(r.Z,{label:"Save",icon:o.d.FLOPPY_DISK,onClick:e.onClickSave,options:t})}},53579:(e,t,n)=>{n.r(t),n.d(t,{EditStoryComponent:()=>S,ViewStoryComponent:()=>p,default:()=>j});n(89813);var s=n(68358),o=n(92421),r=n(72884),a=n.n(r),i=n(47313),l=n(92570),c=n(66135),d=n(58467),u=n(49908),h=n(6127),y=n(5793),x=n(60392),m=n(73958),C=n(95954),v=n(46417);const g=({isViewOnly:e=!1})=>{const t=(0,c.I0)(),[n,r]=(0,i.useState)(!1),{currentStory:g,currentStoryId:S}=(0,y.ix)((e=>e.stories)),{id:p}=(0,d.UO)();if((0,i.useEffect)((()=>{t((0,m.setCurrentStory)(null)),t((0,m.setCurrentStoryId)(p?parseInt(p):null))}),[t,p]),!g)return(0,v.jsx)(v.Fragment,{});const{title:j,content:w}=g,f={editorButtons:[e?(0,v.jsx)(v.Fragment,{children:j}):(0,v.jsx)(o.oi,{maxWidth:"max-w-xl",placeholder:"Enter story title",value:j,onChange:e=>{const n=e.target.value;t((0,m.setCurrentStory)({...g,title:n})),r(!0)}}),e?null:(0,v.jsx)(h.t,{onClickSave:()=>{t(S?(0,m.saveStory)(g,S):(0,m.createStory)(g))},hasUnsavedChanges:n},"save_story")]};return(0,v.jsxs)("div",{style:{display:"flex",flexDirection:"column"},className:a()(s.DARK),children:[(0,v.jsx)(u.Z,{...f}),(0,v.jsxs)("div",{style:{width:"100vw",height:"100%",display:"flex"},children:[!e&&(0,v.jsx)(l.ZP,{className:"repl-react-ace react-ace",width:"100%",height:"100%",theme:"source",value:w,onChange:e=>{r(!0),t((0,m.setCurrentStory)({...g,content:e}))},onScroll:e=>{const t=document.getElementById("userblogContainer");t&&(0,x.tl)(e,t)},fontSize:17,highlightActiveLine:!1,showPrintMargin:!1,wrapEnabled:!0,setOptions:{fontFamily:"'Inconsolata', 'Consolas', monospace"}}),(0,v.jsx)("div",{className:"newUserblog",id:"userblogContainer",children:(0,v.jsx)(C.ZP,{fileContent:w})})]})]})},S=()=>(0,v.jsx)(g,{isViewOnly:!1});S.displayName="EditStory";const p=()=>(0,v.jsx)(g,{isViewOnly:!0});p.displayName="ViewStory";const j=g}}]);